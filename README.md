# 仮想通貨資産価値計算アプリ

仮想通貨ポートフォリオの日本円評価額をリアルタイムで計算するWebアプリケーションです。

## 機能

### 🪙 通貨管理
- **通貨追加**: CoinGecko APIを使用した通貨検索と自動補完
- **通貨削除**: 確認ダイアログ付きの安全な削除機能
- **通貨一覧**: ティッカーシンボルまたは名前でソート可能

### 💰 保有量管理
- **保有量入力**: 最大8桁の小数点サポート
- **メモ機能**: 各通貨に自由テキストのメモを追加
- **リアルタイム計算**: 保有量 × 価格の自動計算

### 📊 価格取得
- **前日終値**: CoinGecko APIから前日の終値を取得
- **自動換算**: USD価格を為替レートでJPY換算
- **キャッシュ機能**: 12時間の価格キャッシュでAPI呼び出しを最適化
- **手動更新**: 「最新価格を取得」ボタンで任意のタイミングで更新

### 🎨 UI/UX
- **レスポンシブデザイン**: デスクトップ・モバイル対応
- **ダークモード**: システム設定に応じた自動切り替え
- **PWA対応**: オフライン利用可能
- **日本語UI**: 全てのラベルとメッセージが日本語

## 技術スタック

- **フロントエンド**: Vue 3 + TypeScript + Vite
- **状態管理**: Pinia
- **スタイリング**: Tailwind CSS
- **データベース**: IndexedDB (Dexie.js)
- **API**: CoinGecko API
- **PWA**: @vite-pwa/vue

## セットアップ

### 前提条件
- Node.js 18以上
- pnpm または npm

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/ekumaki/my-crypto-valuation.git
cd my-crypto-valuation

# 依存関係をインストール
pnpm install
# または
npm install
```

### 開発サーバーの起動

```bash
# 開発サーバーを起動
pnpm dev
# または
npm run dev
```

ブラウザで `http://localhost:5173` にアクセスしてアプリケーションを表示できます。

### ビルド

```bash
# プロダクションビルド
pnpm build
# または
npm run build
```

### プレビュー

```bash
# ビルドしたアプリをプレビュー
pnpm preview
# または
npm run preview
```

## 使用方法

### 1. 通貨の追加
1. 「＋通貨を追加」ボタンをクリック
2. 通貨名またはティッカーシンボルを検索
3. 検索結果から通貨を選択
4. 保有量を入力（任意）
5. 「追加」ボタンで確定

### 2. 保有量の編集
1. 保有量の編集アイコンをクリック
2. 新しい保有量を入力
3. 「保存」ボタンで確定

### 3. 価格の更新
- 「最新価格を取得」ボタンをクリックして手動更新
- アプリ起動時に自動的に価格を取得
- 12時間以内の価格はキャッシュから取得

### 4. メモの追加
- 各通貨の「メモ」列に直接入力
- フォーカスを外すと自動保存

## データストレージ

アプリケーションはブラウザのIndexedDBを使用してデータを保存します：

- **tokens**: 追加した通貨の情報
- **holdings**: 各通貨の保有量とメモ
- **prices**: 価格履歴とキャッシュ

## API仕様

### CoinGecko API
- **検索エンドポイント**: `/api/v3/search`
- **価格エンドポイント**: `/api/v3/simple/price`
- **履歴エンドポイント**: `/api/v3/coins/{id}/history`
- **為替レート**: `/api/v3/exchange_rates`

## パフォーマンス

- **初期表示**: 3秒以内（10通貨以下）
- **オフライン対応**: PWAによるキャッシュ機能
- **レスポンシブ**: Chrome・Edge最新版で最適化

## セキュリティ

- **HTTPS強制**: 本番環境でのHTTPS必須
- **API制限**: レート制限の適切な処理
- **データ暗号化**: 機密情報の暗号化（将来実装予定）

## 今後の機能拡張

現在、以下の機能が計画されています（コメントでTODOとして記載）：

- [ ] 前日比表示
- [ ] 資産推移グラフ（Chart.js）
- [ ] CSV エクスポート/インポート機能

## ライセンス

MIT License - 詳細は [LICENSE](LICENSE) ファイルを参照してください。

## 貢献

プルリクエストやイシューの報告を歓迎します。

## サポート

問題が発生した場合は、GitHubのIssuesページで報告してください。

---

**注意**: このアプリケーションは教育目的で作成されています。投資判断は自己責任で行ってください。